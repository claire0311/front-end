{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Paul2\\\\Downloads\\\\front-end-main (5)\\\\front-end-main\\\\src\\\\components\\\\TrainingRoom\\\\MessageInput.js\",\n  _s = $RefreshSig$();\nimport React, { useRef } from 'react'; // *** ÁßªÈô§ useEffect ***\nimport { Form, Button, InputGroup, Spinner } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction MessageInput({\n  currentMessage,\n  onMessageChange,\n  onSendMessage,\n  onGetFeedback,\n  isLoading,\n  isGettingFeedback,\n  disabled\n}) {\n  _s();\n  const textareaRef = useRef(null); // Ref ‰ªçÁÑ∂‰øùÁïôÔºå‰ΩÜ‰∏çÁî®ÊñºÈ´òÂ∫¶Ë™øÊï¥\n\n  // *** ÁßªÈô§Ëá™ÂãïË™øÊï¥È´òÂ∫¶ÁöÑ useEffect ***\n  /*\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto'; // Reset height\n      textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`; // Set to scroll height\n    }\n  }, [currentMessage]);\n  */\n\n  const handleKeyDown = e => {\n    if (e.key === 'Enter' && !e.shiftKey && !isLoading && !isGettingFeedback && !disabled && currentMessage.trim()) {\n      e.preventDefault();\n      onSendMessage();\n    }\n  };\n  const handleSendClick = () => {\n    if (!isLoading && !isGettingFeedback && !disabled && currentMessage.trim()) {\n      onSendMessage();\n    }\n  };\n  const handleFeedbackClick = () => {\n    if (!isLoading && !isGettingFeedback && !disabled) {\n      onGetFeedback();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(InputGroup, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      variant: \"outline-info\",\n      onClick: handleFeedbackClick,\n      disabled: isLoading || isGettingFeedback || disabled,\n      title: \"\\u8B93 AI \\u91DD\\u5C0D\\u672C\\u6B21\\u5C0D\\u8A71\\u7D66\\u51FA\\u56DE\\u994B\",\n      children: isGettingFeedback ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Spinner, {\n          as: \"span\",\n          animation: \"border\",\n          size: \"sm\",\n          role: \"status\",\n          \"aria-hidden\": \"true\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"visually-hidden\",\n          children: \"\\u8ACB\\u6C42\\u4E2D...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true) : \"ü§î ÊàëË™™ÂæóÂ¶Ç‰ΩïÔºü\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n      ref: textareaRef // Ref ‰ªçÁÑ∂ÂèØ‰ª•‰øùÁïôÁµ¶Êú™‰æÜÂèØËÉΩÁöÑÂÖ∂‰ªñÁî®ÈÄî\n      ,\n      as: \"textarea\",\n      rows: 2 // *** Ë®≠ÂÆöÂõ∫ÂÆöÁöÑÂàùÂßãË°åÊï∏Ôºå‰æãÂ¶Ç 2 Êàñ 3 ***\n      ,\n      placeholder: disabled ? \"Ë´ãÂÖàË®≠ÂÆöÁõÆÊ®ô‰∏¶ÈÅ∏ÊìáËßíËâ≤...\" : \"Ëº∏ÂÖ•Ë®äÊÅØ (Shift+Enter ÊèõË°å)...\",\n      value: currentMessage,\n      onChange: e => onMessageChange(e.target.value),\n      onKeyDown: handleKeyDown,\n      disabled: isLoading || isGettingFeedback || disabled\n      // *** ‰øùÊåÅÈÄô‰∫õÊ®£ÂºèÔºåÂÖÅË®±ÂÖßÈÉ®ÊªæÂãï ***\n      ,\n      style: {\n        resize: 'none',\n        overflowY: 'auto',\n        maxHeight: '150px'\n      },\n      \"aria-label\": \"\\u8A0A\\u606F\\u8F38\\u5165\\u6846\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"primary\",\n      onClick: handleSendClick,\n      disabled: isLoading || isGettingFeedback || disabled || !currentMessage.trim(),\n      children: isLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Spinner, {\n          as: \"span\",\n          animation: \"border\",\n          size: \"sm\",\n          role: \"status\",\n          \"aria-hidden\": \"true\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"visually-hidden\",\n          children: \"\\u50B3\\u9001\\u4E2D...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"bi bi-send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 14\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n_s(MessageInput, \"gJtT2aPnbUb4WH8ANBrFCKASbhs=\");\n_c = MessageInput;\nexport default MessageInput;\nvar _c;\n$RefreshReg$(_c, \"MessageInput\");","map":{"version":3,"names":["React","useRef","Form","Button","InputGroup","Spinner","jsxDEV","_jsxDEV","Fragment","_Fragment","MessageInput","currentMessage","onMessageChange","onSendMessage","onGetFeedback","isLoading","isGettingFeedback","disabled","_s","textareaRef","handleKeyDown","e","key","shiftKey","trim","preventDefault","handleSendClick","handleFeedbackClick","children","variant","onClick","title","as","animation","size","role","fileName","_jsxFileName","lineNumber","columnNumber","className","Control","ref","rows","placeholder","value","onChange","target","onKeyDown","style","resize","overflowY","maxHeight","_c","$RefreshReg$"],"sources":["C:/Users/Paul2/Downloads/front-end-main (5)/front-end-main/src/components/TrainingRoom/MessageInput.js"],"sourcesContent":["import React, { useRef } from 'react'; // *** ÁßªÈô§ useEffect ***\nimport { Form, Button, InputGroup, Spinner } from 'react-bootstrap';\n\nfunction MessageInput({\n    currentMessage,\n    onMessageChange,\n    onSendMessage,\n    onGetFeedback,\n    isLoading,\n    isGettingFeedback,\n    disabled\n}) {\n  const textareaRef = useRef(null); // Ref ‰ªçÁÑ∂‰øùÁïôÔºå‰ΩÜ‰∏çÁî®ÊñºÈ´òÂ∫¶Ë™øÊï¥\n\n  // *** ÁßªÈô§Ëá™ÂãïË™øÊï¥È´òÂ∫¶ÁöÑ useEffect ***\n  /*\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto'; // Reset height\n      textareaRef.current.style.height = `${textareaRef.current.scrollHeight}px`; // Set to scroll height\n    }\n  }, [currentMessage]);\n  */\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey && !isLoading && !isGettingFeedback && !disabled && currentMessage.trim()) {\n      e.preventDefault();\n      onSendMessage();\n    }\n  };\n\n  const handleSendClick = () => {\n      if (!isLoading && !isGettingFeedback && !disabled && currentMessage.trim()) {\n          onSendMessage();\n      }\n  }\n\n  const handleFeedbackClick = () => {\n      if (!isLoading && !isGettingFeedback && !disabled) {\n          onGetFeedback();\n      }\n  }\n\n  return (\n    <InputGroup>\n      {/* Âø´ÈÄüÂõûÈ•ãÊåâÈàï */}\n      <Button\n        variant=\"outline-info\"\n        onClick={handleFeedbackClick}\n        disabled={isLoading || isGettingFeedback || disabled}\n        title=\"ËÆì AI ÈáùÂ∞çÊú¨Ê¨°Â∞çË©±Áµ¶Âá∫ÂõûÈ•ã\"\n      >\n        {isGettingFeedback ? (\n            <>\n              <Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\" />\n              <span className=\"visually-hidden\">Ë´ãÊ±Ç‰∏≠...</span>\n            </>\n        ) : (\n            \"ü§î ÊàëË™™ÂæóÂ¶Ç‰ΩïÔºü\"\n        )}\n      </Button>\n\n      <Form.Control\n        ref={textareaRef} // Ref ‰ªçÁÑ∂ÂèØ‰ª•‰øùÁïôÁµ¶Êú™‰æÜÂèØËÉΩÁöÑÂÖ∂‰ªñÁî®ÈÄî\n        as=\"textarea\"\n        rows={2} // *** Ë®≠ÂÆöÂõ∫ÂÆöÁöÑÂàùÂßãË°åÊï∏Ôºå‰æãÂ¶Ç 2 Êàñ 3 ***\n        placeholder={disabled ? \"Ë´ãÂÖàË®≠ÂÆöÁõÆÊ®ô‰∏¶ÈÅ∏ÊìáËßíËâ≤...\" : \"Ëº∏ÂÖ•Ë®äÊÅØ (Shift+Enter ÊèõË°å)...\"}\n        value={currentMessage}\n        onChange={(e) => onMessageChange(e.target.value)}\n        onKeyDown={handleKeyDown}\n        disabled={isLoading || isGettingFeedback || disabled}\n        // *** ‰øùÊåÅÈÄô‰∫õÊ®£ÂºèÔºåÂÖÅË®±ÂÖßÈÉ®ÊªæÂãï ***\n        style={{ resize: 'none', overflowY: 'auto', maxHeight: '150px' }}\n        aria-label=\"Ë®äÊÅØËº∏ÂÖ•Ê°Ü\"\n      />\n\n      {/* Ë™ûÈü≥Ëº∏ÂÖ•È†êÁïôÂúñÁ§∫ (Êú™‰æÜÂäüËÉΩ) */}\n      {/*\n      <Button variant=\"outline-secondary\" disabled={isLoading || isGettingFeedback || disabled} title=\"Ë™ûÈü≥Ëº∏ÂÖ• (Â∞öÊú™ÂïüÁî®)\">\n          <i className=\"bi bi-mic\"></i>\n      </Button>\n      */}\n\n      <Button\n        variant=\"primary\"\n        onClick={handleSendClick}\n        disabled={isLoading || isGettingFeedback || disabled || !currentMessage.trim()}\n      >\n        {isLoading ? (\n            <>\n                <Spinner as=\"span\" animation=\"border\" size=\"sm\" role=\"status\" aria-hidden=\"true\"/>\n                <span className=\"visually-hidden\">ÂÇ≥ÈÄÅ‰∏≠...</span>\n            </>\n        ) : (\n             <i className=\"bi bi-send\"></i>\n        )}\n      </Button>\n    </InputGroup>\n  );\n}\n\nexport default MessageInput;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}