{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Paul2\\\\Downloads\\\\front-end-main (5)\\\\front-end-main\\\\src\\\\components\\\\FeedbackWall\\\\FeedbackWall.js\",\n  _s = $RefreshSig$();\n// src/components/FeedbackWall/FeedbackWall.js (添加固定頭部和篩選)\n\nimport React, { useState, useEffect, useMemo } from 'react';\n// 導入 InputGroup, Form\nimport { Container, Row, Col, Card, Alert, Badge, InputGroup, Form, Button } from 'react-bootstrap';\nimport FeedbackChart from './FeedbackChart';\nimport './FeedbackWall.css'; // <<<--- 導入 CSS\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst FEEDBACK_STORAGE_KEY = 'wingchat_feedback';\nfunction FeedbackWall() {\n  _s();\n  const [originalFeedbackHistory, setOriginalFeedbackHistory] = useState([]); // 原始數據\n  const [filteredFeedbackHistory, setFilteredFeedbackHistory] = useState([]); // 篩選後數據\n\n  // --- 篩選狀態 ---\n  const [characterSearch, setCharacterSearch] = useState('');\n  const [goalSearch, setGoalSearch] = useState('');\n  // TODO: 未來可添加分數範圍狀態\n  // const [scoreFilters, setScoreFilters] = useState({ clarity: [0, 100], ... });\n\n  // 加載原始數據\n  useEffect(() => {\n    const savedFeedback = localStorage.getItem(FEEDBACK_STORAGE_KEY);\n    let parsedFeedback = [];\n    if (savedFeedback) {\n      try {\n        parsedFeedback = JSON.parse(savedFeedback);\n        if (!Array.isArray(parsedFeedback)) parsedFeedback = [];\n        parsedFeedback = parsedFeedback.filter(fb => typeof fb.timestamp === 'number').sort((a, b) => b.timestamp - a.timestamp); // 初始按時間降序\n      } catch (e) {\n        console.error(\"Failed to parse feedback history\", e);\n      }\n    }\n    setOriginalFeedbackHistory(parsedFeedback);\n  }, []);\n\n  // --- 執行篩選邏輯 ---\n  useEffect(() => {\n    let result = [...originalFeedbackHistory]; // 從原始數據開始篩選\n\n    // 1. 按角色名稱篩選 (不區分大小寫, 包含)\n    if (characterSearch.trim()) {\n      const lowerCaseSearch = characterSearch.trim().toLowerCase();\n      result = result.filter(fb => {\n        var _fb$characterName;\n        return (_fb$characterName = fb.characterName) === null || _fb$characterName === void 0 ? void 0 : _fb$characterName.toLowerCase().includes(lowerCaseSearch);\n      });\n    }\n\n    // 2. 按對話目標關鍵字篩選 (不區分大小寫, 包含)\n    if (goalSearch.trim()) {\n      const lowerCaseGoal = goalSearch.trim().toLowerCase();\n      result = result.filter(fb => {\n        var _fb$goal;\n        return (_fb$goal = fb.goal) === null || _fb$goal === void 0 ? void 0 : _fb$goal.toLowerCase().includes(lowerCaseGoal);\n      });\n    }\n\n    // TODO: 3. 按分數範圍篩選 (未來擴展)\n    // if (scoreFilters) { ... }\n\n    setFilteredFeedbackHistory(result); // 更新篩選後的數據狀態\n  }, [originalFeedbackHistory, characterSearch, goalSearch]); // 依賴原始數據和篩選條件\n\n  // --- 清除篩選條件 ---\n  const clearFilters = () => {\n    setCharacterSearch('');\n    setGoalSearch('');\n    // setScoreFilters({ clarity: [0, 100], ... }); // 清除分數範圍\n  };\n\n  // --- 準備圖表數據 (使用篩選後的數據) ---\n  const recentFilteredFeedback = filteredFeedbackHistory.slice(0, 5).reverse();\n  const chartLabels = recentFilteredFeedback.map((fb, index, arr) => {\n    /* ... (日期處理邏輯不變) ... */const date = new Date(fb.timestamp);\n    const dateString = date.toLocaleDateString('zh-TW', {\n      month: 'numeric',\n      day: 'numeric'\n    });\n    const timeString = date.toLocaleTimeString('zh-TW', {\n      hour: '2-digit',\n      minute: '2-digit',\n      hour12: false\n    });\n    const prevDateString = index > 0 ? new Date(arr[index - 1].timestamp).toLocaleDateString('zh-TW', {\n      month: 'numeric',\n      day: 'numeric'\n    }) : null;\n    return dateString === prevDateString ? `${dateString} ${timeString}` : dateString;\n  });\n  const getScore = score => score === null || score === undefined ? 0 : score;\n  const chartDataSets = [{\n    label: '清晰度',\n    data: recentFilteredFeedback.map(fb => {\n      var _fb$scores;\n      return getScore((_fb$scores = fb.scores) === null || _fb$scores === void 0 ? void 0 : _fb$scores.clarity);\n    }),\n    backgroundColor: 'rgba(54, 162, 235, 0.6)',\n    borderColor: 'rgba(54, 162, 235, 1)',\n    borderWidth: 1\n  }, {\n    label: '同理心',\n    data: recentFilteredFeedback.map(fb => {\n      var _fb$scores2;\n      return getScore((_fb$scores2 = fb.scores) === null || _fb$scores2 === void 0 ? void 0 : _fb$scores2.empathy);\n    }),\n    backgroundColor: 'rgba(255, 206, 86, 0.6)',\n    borderColor: 'rgba(255, 206, 86, 1)',\n    borderWidth: 1\n  }, {\n    label: '自信',\n    data: recentFilteredFeedback.map(fb => {\n      var _fb$scores3;\n      return getScore((_fb$scores3 = fb.scores) === null || _fb$scores3 === void 0 ? void 0 : _fb$scores3.confidence);\n    }),\n    backgroundColor: 'rgba(75, 192, 192, 0.6)',\n    borderColor: 'rgba(75, 192, 192, 1)',\n    borderWidth: 1\n  }, {\n    label: '適當性',\n    data: recentFilteredFeedback.map(fb => {\n      var _fb$scores4;\n      return getScore((_fb$scores4 = fb.scores) === null || _fb$scores4 === void 0 ? void 0 : _fb$scores4.appropriateness);\n    }),\n    backgroundColor: 'rgba(153, 102, 255, 0.6)',\n    borderColor: 'rgba(153, 102, 255, 1)',\n    borderWidth: 1\n  }, {\n    label: '目標達成',\n    data: recentFilteredFeedback.map(fb => {\n      var _fb$scores5;\n      return getScore((_fb$scores5 = fb.scores) === null || _fb$scores5 === void 0 ? void 0 : _fb$scores5.goalAchievement);\n    }),\n    backgroundColor: 'rgba(255, 99, 132, 0.6)',\n    borderColor: 'rgba(255, 99, 132, 1)',\n    borderWidth: 1\n  }];\n  return (\n    /*#__PURE__*/\n    // --- 使用 Container 和 CSS class ---\n    _jsxDEV(Container, {\n      fluid: true,\n      className: \"feedback-wall-container p-0 d-flex flex-column\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"feedback-wall-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"mb-2\",\n          children: \"\\u56DE\\u994B\\u7246\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-muted mb-3\",\n          children: \"\\u9019\\u88E1\\u5F59\\u7E3D\\u4E86\\u4F60\\u6BCF\\u6B21\\u8ACB\\u6C42 AI \\u56DE\\u994B\\u7684\\u7D50\\u679C\\uFF0C\\u89C0\\u5BDF\\u4F60\\u7684\\u9032\\u6B65\\u8DA8\\u52E2\\u5427\\uFF01\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n          size: \"sm\",\n          children: [/*#__PURE__*/_jsxDEV(InputGroup.Text, {\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 28\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"\\u641C\\u5C0B\\u89D2\\u8272\\u540D\\u7A31...\",\n            value: characterSearch,\n            onChange: e => setCharacterSearch(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"feedback-filters-container d-flex align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          size: \"sm\",\n          placeholder: \"\\u641C\\u5C0B\\u5C0D\\u8A71\\u76EE\\u6A19\\u95DC\\u9375\\u5B57...\",\n          value: goalSearch,\n          onChange: e => setGoalSearch(e.target.value),\n          className: \"me-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"outline-secondary\",\n          size: \"sm\",\n          onClick: clearFilters,\n          title: \"\\u6E05\\u9664\\u6240\\u6709\\u7BE9\\u9078\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"bi bi-x-lg\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this), \" \\u6E05\\u9664\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"feedback-wall-body\",\n        children: [/*#__PURE__*/_jsxDEV(Card, {\n          className: \"mb-4 shadow-sm\",\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            children: [\"\\u6700\\u8FD1 \", recentFilteredFeedback.length, \" \\u6B21\\u7B26\\u5408\\u7BE9\\u9078\\u7684\\u7DF4\\u7FD2\\u8868\\u73FE\\u8DA8\\u52E2\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: filteredFeedbackHistory.length > 0 ?\n            // 根據篩選結果判斷\n            recentFilteredFeedback.length > 0 ?\n            /*#__PURE__*/\n            // 確保最近5筆有數據\n            _jsxDEV(FeedbackChart, {\n              labels: chartLabels,\n              datasets: chartDataSets\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 18\n            }, this) : /*#__PURE__*/_jsxDEV(Alert, {\n              variant: \"light\",\n              className: \"text-center\",\n              children: \"\\u6C92\\u6709\\u6700\\u8FD1\\u7684\\u56DE\\u994B\\u6578\\u64DA\\u53EF\\u4F9B\\u7E6A\\u88FD\\u8DA8\\u52E2\\u5716\\u3002\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 18\n            }, this) : /*#__PURE__*/_jsxDEV(Alert, {\n              variant: \"light\",\n              className: \"text-center\",\n              children: characterSearch || goalSearch ? '找不到符合篩選條件的回饋記錄。' : '還沒有任何回饋記錄。在訓練室完成對話後，試試點擊「我說得如何？」按鈕吧！'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"h5 mb-3\",\n          children: [\"\\u8A73\\u7D30\\u56DE\\u994B\\u8A18\\u9304 (\", filteredFeedbackHistory.length, \" \\u7B46)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 9\n        }, this), filteredFeedbackHistory.length > 0 ? filteredFeedbackHistory.map(fb =>\n        /*#__PURE__*/\n        // 使用 filteredFeedbackHistory\n        _jsxDEV(Card, {\n          className: \"shadow-sm\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(Card.Header, {\n            className: \"d-flex justify-content-between align-items-center small text-muted flex-wrap\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: new Date(fb.timestamp).toLocaleString('zh-TW', {\n                dateStyle: 'short',\n                timeStyle: 'short'\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-1 mt-md-0\",\n              children: [/*#__PURE__*/_jsxDEV(Badge, {\n                bg: \"secondary\",\n                className: \"me-2\",\n                children: [\"\\u89D2\\u8272: \", fb.characterName || '未知']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Badge, {\n                bg: \"info\",\n                text: \"dark\",\n                children: [\"\\u76EE\\u6A19: \", fb.goal || '未知']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Subtitle, {\n              className: \"mb-2 text-muted\",\n              children: \"AI \\u7E3D\\u7D50:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                whiteSpace: 'pre-wrap'\n              },\n              children: fb.summary || '-'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 17\n            }, this), fb.scores && Object.values(fb.scores).some(s => s !== null) && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 86\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"small mb-1\",\n                children: \"\\u8A55\\u5206\\u7D30\\u7BC0:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 93\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"list-inline small\",\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"list-inline-item me-3\",\n                  children: [\"\\u6E05: \", /*#__PURE__*/_jsxDEV(Badge, {\n                    pill: true,\n                    bg: getScore(fb.scores.clarity) >= 60 ? \"success\" : \"warning\",\n                    children: getScore(fb.scores.clarity)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 150,\n                    columnNumber: 205\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 164\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"list-inline-item me-3\",\n                  children: [\"\\u540C: \", /*#__PURE__*/_jsxDEV(Badge, {\n                    pill: true,\n                    bg: getScore(fb.scores.empathy) >= 60 ? \"success\" : \"warning\",\n                    children: getScore(fb.scores.empathy)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 150,\n                    columnNumber: 364\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 323\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"list-inline-item me-3\",\n                  children: [\"\\u81EA: \", /*#__PURE__*/_jsxDEV(Badge, {\n                    pill: true,\n                    bg: getScore(fb.scores.confidence) >= 60 ? \"success\" : \"warning\",\n                    children: getScore(fb.scores.confidence)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 150,\n                    columnNumber: 523\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 482\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"list-inline-item me-3\",\n                  children: [\"\\u9069: \", /*#__PURE__*/_jsxDEV(Badge, {\n                    pill: true,\n                    bg: getScore(fb.scores.appropriateness) >= 60 ? \"success\" : \"warning\",\n                    children: getScore(fb.scores.appropriateness)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 150,\n                    columnNumber: 688\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 647\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"list-inline-item\",\n                  children: [\"\\u9054: \", /*#__PURE__*/_jsxDEV(Badge, {\n                    pill: true,\n                    bg: getScore(fb.scores.goalAchievement) >= 60 ? \"success\" : \"warning\",\n                    children: getScore(fb.scores.goalAchievement)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 150,\n                    columnNumber: 858\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 822\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 129\n              }, this), \" \"]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 15\n          }, this)]\n        }, fb.timestamp, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this)) : /*#__PURE__*/_jsxDEV(Alert, {\n          variant: \"secondary\",\n          className: \"text-center\",\n          children: characterSearch || goalSearch ? '找不到符合篩選條件的回饋記錄。' : '還沒有任何回饋記錄。'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }, this)\n  );\n}\n_s(FeedbackWall, \"IrmMFf3vv2sJkdtHpBXqS6f7XVg=\");\n_c = FeedbackWall;\nexport default FeedbackWall;\nvar _c;\n$RefreshReg$(_c, \"FeedbackWall\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","Container","Row","Col","Card","Alert","Badge","InputGroup","Form","Button","FeedbackChart","jsxDEV","_jsxDEV","Fragment","_Fragment","FEEDBACK_STORAGE_KEY","FeedbackWall","_s","originalFeedbackHistory","setOriginalFeedbackHistory","filteredFeedbackHistory","setFilteredFeedbackHistory","characterSearch","setCharacterSearch","goalSearch","setGoalSearch","savedFeedback","localStorage","getItem","parsedFeedback","JSON","parse","Array","isArray","filter","fb","timestamp","sort","a","b","e","console","error","result","trim","lowerCaseSearch","toLowerCase","_fb$characterName","characterName","includes","lowerCaseGoal","_fb$goal","goal","clearFilters","recentFilteredFeedback","slice","reverse","chartLabels","map","index","arr","date","Date","dateString","toLocaleDateString","month","day","timeString","toLocaleTimeString","hour","minute","hour12","prevDateString","getScore","score","undefined","chartDataSets","label","data","_fb$scores","scores","clarity","backgroundColor","borderColor","borderWidth","_fb$scores2","empathy","_fb$scores3","confidence","_fb$scores4","appropriateness","_fb$scores5","goalAchievement","fluid","className","children","fileName","_jsxFileName","lineNumber","columnNumber","size","Text","Control","type","placeholder","value","onChange","target","variant","onClick","title","Header","length","Body","labels","datasets","toLocaleString","dateStyle","timeStyle","bg","text","Subtitle","style","whiteSpace","summary","Object","values","some","s","pill","_c","$RefreshReg$"],"sources":["C:/Users/Paul2/Downloads/front-end-main (5)/front-end-main/src/components/FeedbackWall/FeedbackWall.js"],"sourcesContent":["// src/components/FeedbackWall/FeedbackWall.js (添加固定頭部和篩選)\n\nimport React, { useState, useEffect, useMemo } from 'react';\n// 導入 InputGroup, Form\nimport { Container, Row, Col, Card, Alert, Badge, InputGroup, Form, Button } from 'react-bootstrap';\nimport FeedbackChart from './FeedbackChart';\nimport './FeedbackWall.css'; // <<<--- 導入 CSS\n\nconst FEEDBACK_STORAGE_KEY = 'wingchat_feedback';\n\nfunction FeedbackWall() {\n  const [originalFeedbackHistory, setOriginalFeedbackHistory] = useState([]); // 原始數據\n  const [filteredFeedbackHistory, setFilteredFeedbackHistory] = useState([]); // 篩選後數據\n\n  // --- 篩選狀態 ---\n  const [characterSearch, setCharacterSearch] = useState('');\n  const [goalSearch, setGoalSearch] = useState('');\n  // TODO: 未來可添加分數範圍狀態\n  // const [scoreFilters, setScoreFilters] = useState({ clarity: [0, 100], ... });\n\n  // 加載原始數據\n  useEffect(() => {\n    const savedFeedback = localStorage.getItem(FEEDBACK_STORAGE_KEY);\n    let parsedFeedback = [];\n    if (savedFeedback) {\n      try {\n        parsedFeedback = JSON.parse(savedFeedback);\n        if (!Array.isArray(parsedFeedback)) parsedFeedback = [];\n        parsedFeedback = parsedFeedback\n          .filter(fb => typeof fb.timestamp === 'number')\n          .sort((a, b) => b.timestamp - a.timestamp); // 初始按時間降序\n      } catch (e) { console.error(\"Failed to parse feedback history\", e); }\n    }\n    setOriginalFeedbackHistory(parsedFeedback);\n  }, []);\n\n  // --- 執行篩選邏輯 ---\n  useEffect(() => {\n    let result = [...originalFeedbackHistory]; // 從原始數據開始篩選\n\n    // 1. 按角色名稱篩選 (不區分大小寫, 包含)\n    if (characterSearch.trim()) {\n      const lowerCaseSearch = characterSearch.trim().toLowerCase();\n      result = result.filter(fb =>\n        fb.characterName?.toLowerCase().includes(lowerCaseSearch)\n      );\n    }\n\n    // 2. 按對話目標關鍵字篩選 (不區分大小寫, 包含)\n    if (goalSearch.trim()) {\n        const lowerCaseGoal = goalSearch.trim().toLowerCase();\n        result = result.filter(fb =>\n            fb.goal?.toLowerCase().includes(lowerCaseGoal)\n        );\n    }\n\n    // TODO: 3. 按分數範圍篩選 (未來擴展)\n    // if (scoreFilters) { ... }\n\n    setFilteredFeedbackHistory(result); // 更新篩選後的數據狀態\n\n  }, [originalFeedbackHistory, characterSearch, goalSearch]); // 依賴原始數據和篩選條件\n\n  // --- 清除篩選條件 ---\n  const clearFilters = () => {\n      setCharacterSearch('');\n      setGoalSearch('');\n      // setScoreFilters({ clarity: [0, 100], ... }); // 清除分數範圍\n  }\n\n  // --- 準備圖表數據 (使用篩選後的數據) ---\n  const recentFilteredFeedback = filteredFeedbackHistory.slice(0, 5).reverse();\n\n  const chartLabels = recentFilteredFeedback.map((fb, index, arr) => { /* ... (日期處理邏輯不變) ... */ const date = new Date(fb.timestamp); const dateString = date.toLocaleDateString('zh-TW', { month: 'numeric', day: 'numeric' }); const timeString = date.toLocaleTimeString('zh-TW', { hour: '2-digit', minute: '2-digit', hour12: false }); const prevDateString = index > 0 ? new Date(arr[index - 1].timestamp).toLocaleDateString('zh-TW', { month: 'numeric', day: 'numeric' }) : null; return dateString === prevDateString ? `${dateString} ${timeString}` : dateString; });\n  const getScore = (score) => (score === null || score === undefined ? 0 : score);\n  const chartDataSets = [ { label: '清晰度', data: recentFilteredFeedback.map(fb => getScore(fb.scores?.clarity)), backgroundColor: 'rgba(54, 162, 235, 0.6)', borderColor: 'rgba(54, 162, 235, 1)', borderWidth: 1 }, { label: '同理心', data: recentFilteredFeedback.map(fb => getScore(fb.scores?.empathy)), backgroundColor: 'rgba(255, 206, 86, 0.6)', borderColor: 'rgba(255, 206, 86, 1)', borderWidth: 1 }, { label: '自信', data: recentFilteredFeedback.map(fb => getScore(fb.scores?.confidence)), backgroundColor: 'rgba(75, 192, 192, 0.6)', borderColor: 'rgba(75, 192, 192, 1)', borderWidth: 1 }, { label: '適當性', data: recentFilteredFeedback.map(fb => getScore(fb.scores?.appropriateness)), backgroundColor: 'rgba(153, 102, 255, 0.6)', borderColor: 'rgba(153, 102, 255, 1)', borderWidth: 1 }, { label: '目標達成', data: recentFilteredFeedback.map(fb => getScore(fb.scores?.goalAchievement)), backgroundColor: 'rgba(255, 99, 132, 0.6)', borderColor: 'rgba(255, 99, 132, 1)', borderWidth: 1 }, ];\n\n\n  return (\n    // --- 使用 Container 和 CSS class ---\n    <Container fluid className=\"feedback-wall-container p-0 d-flex flex-column\">\n\n      {/* --- 固定的頭部區域 --- */}\n      <div className=\"feedback-wall-header\">\n        <h2 className=\"mb-2\">回饋牆</h2>\n        <p className=\"text-muted mb-3\">這裡彙總了你每次請求 AI 回饋的結果，觀察你的進步趨勢吧！</p>\n        {/* 角色搜尋框 */}\n        <InputGroup size=\"sm\">\n          <InputGroup.Text><i className=\"bi bi-search\"></i></InputGroup.Text>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"搜尋角色名稱...\"\n            value={characterSearch}\n            onChange={(e) => setCharacterSearch(e.target.value)}\n          />\n        </InputGroup>\n      </div>\n\n      {/* --- 篩選控制項區域 --- */}\n      <div className=\"feedback-filters-container d-flex align-items-center\">\n         <Form.Control\n            type=\"text\"\n            size=\"sm\"\n            placeholder=\"搜尋對話目標關鍵字...\"\n            value={goalSearch}\n            onChange={(e) => setGoalSearch(e.target.value)}\n            className=\"me-2\"\n          />\n          <Button variant=\"outline-secondary\" size=\"sm\" onClick={clearFilters} title=\"清除所有篩選\">\n            <i className=\"bi bi-x-lg\"></i> 清除\n          </Button>\n          {/* TODO: 在此處添加分數範圍篩選器 */}\n      </div>\n\n      {/* --- 可滾動的內容區域 --- */}\n      <div className=\"feedback-wall-body\">\n        {/* 圖表區域 */}\n        <Card className=\"mb-4 shadow-sm\">\n          <Card.Header>最近 {recentFilteredFeedback.length} 次符合篩選的練習表現趨勢</Card.Header>\n          <Card.Body>\n            {filteredFeedbackHistory.length > 0 ? ( // 根據篩選結果判斷\n              recentFilteredFeedback.length > 0 ? ( // 確保最近5筆有數據\n                 <FeedbackChart labels={chartLabels} datasets={chartDataSets} />\n              ) : (\n                 <Alert variant=\"light\" className=\"text-center\">沒有最近的回饋數據可供繪製趨勢圖。</Alert>\n              )\n            ) : (\n              <Alert variant=\"light\" className=\"text-center\">\n                {characterSearch || goalSearch ? '找不到符合篩選條件的回饋記錄。' : '還沒有任何回饋記錄。在訓練室完成對話後，試試點擊「我說得如何？」按鈕吧！'}\n              </Alert>\n            )}\n          </Card.Body>\n        </Card>\n\n        {/* 歷史回饋列表 (使用篩選後的數據) */}\n        <h4 className=\"h5 mb-3\">詳細回饋記錄 ({filteredFeedbackHistory.length} 筆)</h4>\n        {filteredFeedbackHistory.length > 0 ? (\n          filteredFeedbackHistory.map((fb) => ( // 使用 filteredFeedbackHistory\n            <Card key={fb.timestamp} className=\"shadow-sm\"> {/* 移除 mb-3，讓 CSS 控制 */}\n              <Card.Header className=\"d-flex justify-content-between align-items-center small text-muted flex-wrap\">\n                <span>{new Date(fb.timestamp).toLocaleString('zh-TW', { dateStyle: 'short', timeStyle: 'short' })}</span>\n                <div className=\"mt-1 mt-md-0\">\n                  <Badge bg=\"secondary\" className=\"me-2\">角色: {fb.characterName || '未知'}</Badge>\n                  <Badge bg=\"info\" text=\"dark\">目標: {fb.goal || '未知'}</Badge>\n                </div>\n              </Card.Header>\n              <Card.Body>\n                <Card.Subtitle className=\"mb-2 text-muted\">AI 總結:</Card.Subtitle>\n                <p style={{ whiteSpace: 'pre-wrap' }}>{fb.summary || '-'}</p>\n                {fb.scores && Object.values(fb.scores).some(s => s !== null) && ( <> <hr /> <p className=\"small mb-1\">評分細節:</p> <ul className=\"list-inline small\"> <li className=\"list-inline-item me-3\">清: <Badge pill bg={getScore(fb.scores.clarity) >= 60 ? \"success\" : \"warning\"}>{getScore(fb.scores.clarity)}</Badge></li> <li className=\"list-inline-item me-3\">同: <Badge pill bg={getScore(fb.scores.empathy) >= 60 ? \"success\" : \"warning\"}>{getScore(fb.scores.empathy)}</Badge></li> <li className=\"list-inline-item me-3\">自: <Badge pill bg={getScore(fb.scores.confidence) >= 60 ? \"success\" : \"warning\"}>{getScore(fb.scores.confidence)}</Badge></li> <li className=\"list-inline-item me-3\">適: <Badge pill bg={getScore(fb.scores.appropriateness) >= 60 ? \"success\" : \"warning\"}>{getScore(fb.scores.appropriateness)}</Badge></li> <li className=\"list-inline-item\">達: <Badge pill bg={getScore(fb.scores.goalAchievement) >= 60 ? \"success\" : \"warning\"}>{getScore(fb.scores.goalAchievement)}</Badge></li> </ul> </>\n                )}\n              </Card.Body>\n            </Card>\n          ))\n        ) : (\n          <Alert variant=\"secondary\" className=\"text-center\">\n             {characterSearch || goalSearch ? '找不到符合篩選條件的回饋記錄。' : '還沒有任何回饋記錄。'}\n          </Alert>\n        )}\n      </div>\n    </Container>\n  );\n}\n\nexport default FeedbackWall;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}