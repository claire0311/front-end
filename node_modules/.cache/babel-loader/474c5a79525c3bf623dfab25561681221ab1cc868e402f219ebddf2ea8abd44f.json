{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Paul2\\\\Downloads\\\\front-end-main (5)\\\\front-end-main\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\n// src/App.js (完整版 - 使用動態 Class)\n\nimport React, { useState, useEffect } from 'react';\nimport { Container } from 'react-bootstrap';\nimport AppNavbar from './components/common/AppNavbar';\nimport TrainingRoom from './components/TrainingRoom/TrainingRoom';\nimport CharacterHall from './components/CharacterHall/CharacterHall';\nimport FeedbackWall from './components/FeedbackWall/FeedbackWall';\nimport './styles/App.css'; // <<<--- 引入全局樣式\n\n// 本地儲存的 Key\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CHARACTERS_STORAGE_KEY = 'wingchat_characters';\nconst FEEDBACK_STORAGE_KEY = 'wingchat_feedback'; // 確保 FeedbackWall 也能用\n\nfunction App() {\n  _s();\n  const [activeView, setActiveView] = useState('training'); // 'training', 'characters', 'feedback'\n  const [characters, setCharacters] = useState(() => {\n    const savedCharacters = localStorage.getItem(CHARACTERS_STORAGE_KEY);\n    if (savedCharacters) {\n      try {\n        const parsed = JSON.parse(savedCharacters);\n        return Array.isArray(parsed) ? parsed : [{\n          id: 'default',\n          name: '預設助手',\n          description: '我是 WingChat...'\n        }];\n      } catch (e) {\n        console.error(\"Failed to parse characters from localStorage\", e);\n        return [{\n          id: 'default',\n          name: '預設助手',\n          description: '我是 WingChat...'\n        }];\n      }\n    }\n    return [{\n      id: 'default',\n      name: '預設助手',\n      description: '我是 WingChat，一個友善且樂於助人的 AI 社交教練。'\n    }];\n  });\n  const [selectedCharacter, setSelectedCharacter] = useState(characters.length > 0 ? characters[0] : null);\n\n  // 保存角色到 localStorage\n  useEffect(() => {\n    localStorage.setItem(CHARACTERS_STORAGE_KEY, JSON.stringify(characters));\n  }, [characters]);\n\n  // 更新角色列表處理函數\n  const handleUpdateCharacters = newCharacters => {\n    setCharacters(newCharacters);\n    if (selectedCharacter && !newCharacters.find(c => c.id === selectedCharacter.id)) {\n      setSelectedCharacter(newCharacters.length > 0 ? newCharacters[0] : null);\n    } else if (!selectedCharacter && newCharacters.length > 0) {\n      setSelectedCharacter(newCharacters[0]);\n    }\n  };\n\n  // 選擇角色處理函數\n  const handleSelectCharacter = character => {\n    setSelectedCharacter(character);\n    // 選完角色自動跳回訓練室 (如果不在訓練室)\n    if (activeView !== 'training') {\n      setActiveView('training');\n    }\n  };\n\n  // 渲染當前視圖\n  const renderView = () => {\n    // 根據 activeView 返回對應的組件\n    // 注意：這些組件的根元素需要能被 App.css 中的選擇器選中\n    // （例如 TrainingRoom 返回 <Container>, CharacterHall/FeedbackWall 可能返回 <Container> 或 <div>）\n    switch (activeView) {\n      case 'characters':\n        return /*#__PURE__*/_jsxDEV(CharacterHall, {\n          characters: characters,\n          onUpdateCharacters: handleUpdateCharacters,\n          onSelectCharacter: handleSelectCharacter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 16\n        }, this);\n      case 'feedback':\n        // FeedbackWall 內部自己處理數據加載\n        return /*#__PURE__*/_jsxDEV(FeedbackWall, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 16\n        }, this);\n      case 'training':\n      default:\n        // 確保 TrainingRoom 的根元素是 Container fluid\n        // 並且接收了必要的 props\n        return /*#__PURE__*/_jsxDEV(TrainingRoom, {\n          characters: characters,\n          selectedCharacter: selectedCharacter,\n          onSelectCharacter: handleSelectCharacter\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  return (\n    /*#__PURE__*/\n    // 最外層使用 app-container class (在 App.css 中定義 flex column 和高度)\n    _jsxDEV(\"div\", {\n      className: \"app-container\",\n      children: [/*#__PURE__*/_jsxDEV(AppNavbar, {\n        onSelectView: setActiveView,\n        currentView: activeView\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        fluid: true,\n        className: `main-content ${activeView === 'training' ? 'no-scroll p-0' : 'p-3'} d-flex flex-column`,\n        children: renderView()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }, this)\n  );\n}\n_s(App, \"6zxsvlsgBfqodptq+gq703vUYjY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Container","AppNavbar","TrainingRoom","CharacterHall","FeedbackWall","jsxDEV","_jsxDEV","CHARACTERS_STORAGE_KEY","FEEDBACK_STORAGE_KEY","App","_s","activeView","setActiveView","characters","setCharacters","savedCharacters","localStorage","getItem","parsed","JSON","parse","Array","isArray","id","name","description","e","console","error","selectedCharacter","setSelectedCharacter","length","setItem","stringify","handleUpdateCharacters","newCharacters","find","c","handleSelectCharacter","character","renderView","onUpdateCharacters","onSelectCharacter","fileName","_jsxFileName","lineNumber","columnNumber","className","children","onSelectView","currentView","fluid","_c","$RefreshReg$"],"sources":["C:/Users/Paul2/Downloads/front-end-main (5)/front-end-main/src/App.js"],"sourcesContent":["// src/App.js (完整版 - 使用動態 Class)\n\nimport React, { useState, useEffect } from 'react';\nimport { Container } from 'react-bootstrap';\nimport AppNavbar from './components/common/AppNavbar';\nimport TrainingRoom from './components/TrainingRoom/TrainingRoom';\nimport CharacterHall from './components/CharacterHall/CharacterHall';\nimport FeedbackWall from './components/FeedbackWall/FeedbackWall';\nimport './styles/App.css'; // <<<--- 引入全局樣式\n\n// 本地儲存的 Key\nconst CHARACTERS_STORAGE_KEY = 'wingchat_characters';\nconst FEEDBACK_STORAGE_KEY = 'wingchat_feedback'; // 確保 FeedbackWall 也能用\n\nfunction App() {\n  const [activeView, setActiveView] = useState('training'); // 'training', 'characters', 'feedback'\n  const [characters, setCharacters] = useState(() => {\n    const savedCharacters = localStorage.getItem(CHARACTERS_STORAGE_KEY);\n    if (savedCharacters) {\n      try {\n        const parsed = JSON.parse(savedCharacters);\n        return Array.isArray(parsed) ? parsed : [{ id: 'default', name: '預設助手', description: '我是 WingChat...' }];\n      } catch (e) {\n        console.error(\"Failed to parse characters from localStorage\", e);\n        return [{ id: 'default', name: '預設助手', description: '我是 WingChat...' }];\n      }\n    }\n    return [{ id: 'default', name: '預設助手', description: '我是 WingChat，一個友善且樂於助人的 AI 社交教練。' }];\n  });\n  const [selectedCharacter, setSelectedCharacter] = useState(characters.length > 0 ? characters[0] : null);\n\n  // 保存角色到 localStorage\n  useEffect(() => {\n    localStorage.setItem(CHARACTERS_STORAGE_KEY, JSON.stringify(characters));\n  }, [characters]);\n\n  // 更新角色列表處理函數\n  const handleUpdateCharacters = (newCharacters) => {\n    setCharacters(newCharacters);\n    if (selectedCharacter && !newCharacters.find(c => c.id === selectedCharacter.id)) {\n      setSelectedCharacter(newCharacters.length > 0 ? newCharacters[0] : null);\n    } else if (!selectedCharacter && newCharacters.length > 0) {\n        setSelectedCharacter(newCharacters[0]);\n    }\n  };\n\n  // 選擇角色處理函數\n  const handleSelectCharacter = (character) => {\n    setSelectedCharacter(character);\n     // 選完角色自動跳回訓練室 (如果不在訓練室)\n     if (activeView !== 'training') {\n       setActiveView('training');\n     }\n  };\n\n  // 渲染當前視圖\n  const renderView = () => {\n    // 根據 activeView 返回對應的組件\n    // 注意：這些組件的根元素需要能被 App.css 中的選擇器選中\n    // （例如 TrainingRoom 返回 <Container>, CharacterHall/FeedbackWall 可能返回 <Container> 或 <div>）\n    switch (activeView) {\n      case 'characters':\n        return <CharacterHall\n                  characters={characters}\n                  onUpdateCharacters={handleUpdateCharacters}\n                  onSelectCharacter={handleSelectCharacter}\n                />;\n      case 'feedback':\n        // FeedbackWall 內部自己處理數據加載\n        return <FeedbackWall />;\n      case 'training':\n      default:\n        // 確保 TrainingRoom 的根元素是 Container fluid\n        // 並且接收了必要的 props\n        return <TrainingRoom\n                  characters={characters}\n                  selectedCharacter={selectedCharacter}\n                  onSelectCharacter={handleSelectCharacter}\n               />;\n    }\n  };\n\n  return (\n    // 最外層使用 app-container class (在 App.css 中定義 flex column 和高度)\n    <div className=\"app-container\">\n      <AppNavbar onSelectView={setActiveView} currentView={activeView} />\n      {/* main-content 區域會佔滿剩餘空間 */}\n      {/* 動態添加 no-scroll class 和調整 padding */}\n      <Container\n        fluid\n        className={`main-content ${activeView === 'training' ? 'no-scroll p-0' : 'p-3'} d-flex flex-column`}\n      >\n        {renderView()}\n      </Container>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}