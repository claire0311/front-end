/* src/styles/App.css (條件性滾動版本) */
@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');
@import url("https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css");

html, body, #root {
  height: 100%; /* 確保根元素高度為 100% */
  overflow: hidden; /* 防止 body 滾動 */
}

body {
  font-family: 'Noto Sans TC', sans-serif, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue';
  background-color: #f8f9fa;
  color: #343a40;
  line-height: 1.6;
}

/* --- 關鍵佈局樣式 --- */
.app-container {
  display: flex;
  flex-direction: column;
  height: 100vh; /* 固定為視窗高度 */
  overflow: hidden; /* 阻止 app-container 滾動 */
}

.main-content {
  flex-grow: 1; /* 讓 main-content 填滿 app-container 中 Navbar 下方的所有剩餘空間 */
  display: flex; /* 使其成為 flex 容器 */
  flex-direction: column; /* 讓子元素垂直排列 */
  /* 默認允許 Y 軸滾動，用於 CharacterHall 和 FeedbackWall */
  overflow-y: auto;
  overflow-x: hidden; /* 防止水平滾動 */
  /* padding 由 App.js 動態設置 (p-3 或 p-0) */
}

/* 當 main-content 有 no-scroll class (即 activeView === 'training') */
.main-content.no-scroll {
  overflow: hidden; /* 阻止滾動 */
}

/* 確保 TrainingRoom 的容器在 no-scroll 模式下能正確伸展 */
/* 選擇 .main-content.no-scroll 下的直接子元素 .container-fluid (這是 TrainingRoom 的根) */
.main-content.no-scroll > .container-fluid.training-room-container {
    flex-grow: 1; /* 讓 TrainingRoom 填滿 */
    display: flex; /* 保持 flex */
    flex-direction: column; /* 保持列佈局 */
    min-height: 0; /* Flexbox hack */
    /* padding: 0 !important; 已在 App.js 中設置 p-0 */
}

/* 確保 CharacterHall 和 FeedbackWall 的容器能正常顯示內容 */
/* 選擇 .main-content 下的直接子元素 (如果不是 Container，可能需要調整) */
.main-content:not(.no-scroll) > .container,
.main-content:not(.no-scroll) > div { /* 假設它們根是 Container 或 div */
   /* 在允許滾動的模式下，讓內容自然高度 */
   flex-grow: 0; /* 不需要填滿高度 */
   width: 100%; /* 確保佔滿寬度 */
   /* padding 由 App.js className 控制 (p-3) */
}


/* --- 其他全局樣式 (保持不變) --- */
:root {
  --bs-primary: #5a67d8; --bs-secondary: #6c757d; --bs-success: #38a169;
  --bs-info: #3182ce; --bs-warning: #dd6b20; --bs-danger: #e53e3e;
  --bs-light: #f8f9fa; --bs-dark: #343a40;
  --bs-font-sans-serif: 'Noto Sans TC', sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
}
.navbar { border-bottom: 1px solid #e9ecef; flex-shrink: 0; /* Navbar 不壓縮 */ }
.navbar-brand { font-weight: 700; color: var(--bs-primary) !important; }
.card { border: 1px solid #e9ecef; transition: box-shadow 0.2s ease-in-out, transform 0.2s ease-in-out; }
.card:hover { box-shadow: 0 .5rem 1rem rgba(0,0,0,.1) !important; }
.card-header { background-color: rgba(0,0,0,.03); border-bottom: 1px solid #e9ecef; font-weight: 500; }
.btn { border-radius: 0.3rem; font-weight: 500; }
h1, h2, h3, h4, h5, h6 { color: var(--bs-dark); font-weight: 500; }
a { color: var(--bs-primary); text-decoration: none; }
a:hover { color: darken(var(--bs-primary), 10%); text-decoration: underline; }
.alert { border-left-width: 4px; border-radius: 0.25rem; }
.alert-danger { border-left-color: var(--bs-danger); }
.alert-warning { border-left-color: var(--bs-warning); }
.alert-info {
  border-left: 4px solid var(--bs-info); /* 粗細4px、實線、用info色 */
}
.alert-success { border-left-color: var(--bs-success); }
/* 移除全局滾動條美化，因為滾動區域現在更局部 */
/* * { scrollbar-width: thin; scrollbar-color: #adb5bd #f8f9fa; } */
/* *::-webkit-scrollbar { width: 8px; } */
/* *::-webkit-scrollbar-track { background: #f8f9fa; } */
/* *::-webkit-scrollbar-thumb { background-color: #adb5bd; border-radius: 10px; border: 2px solid #f8f9fa; } */

